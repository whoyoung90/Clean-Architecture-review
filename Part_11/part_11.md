# 11장 DIP: 의존성 역전 원칙

### SOLID 원칙 중, "DIP: 의존성 역전 원칙"이란?

<br />
<strong>Dependency Inversion Principle</strong>
<br />

👉 고수준 정책을 구현하는 코드는 저수준 세부사항을 구현하는 코드에 의존하면 안된다.<br />
👉 세부사항이 정책에 의존해야 한다.
<br />
<br />
의존성 원칙에서 말하는 "유연성이 극대화"된 시스템이란, 소스 코드 의존성이 `추상에 의존`하는 시스템이다. (구체X)
<br />
<br />
자바와 같은 정적 타입 언어에서 use, import, include 구문은<br />
오직 `인터페이스`나 `추상 클래스` 같은 `추상적인 선언만을 참조`해야 한다는 뜻이다. (구체적인 대상에 의존X)
<br />
<br />
우리가 의존하지 않도록 피하고자 하는 것은 변동성이 큰 구체적인 요소다.<br />
(우리가 열심히 개발하는 중이라 자주 변경될 수 없는 모듈들을 의미한다.)
<br />
<br />

## 💡<strong>안정된 추상화</strong>

인터페이스는 구현체보다 변동성이 낮다.<br />
인터페이스를 변경하지 않고도 구현체에 기능을 추가할 수 있는 방법을 찾기 위해 노력해야 한다.<br />
안정된 추상 인터페이스를 선호해야 한다.

- <strong>변동성이 큰 구체 클래스를 참조하지 말라.</strong> 대신 추상 인터페이스를 참조하라.

- <strong>변동성이 큰 구체 클래스로부터 파생하지 말라.</strong> 상속은 아주 신중하게 사용해야 한다.

- <strong>구체 함수를 오버라이드 하지 말라.</strong><br />
  대체로 구체 함수는 소스 코드 의존성을 필요로 한다.<br />
  따라서 구체 함수를 오버라이드 하면 이러한 의존성을 제거할 수 없게 되며,
  실제로는 그 의존성을 상속하게 된다.<br />
  이러한 의존성을 제거하려면, `추상 함수로 선언`하고 `구현체들에서 각자의 용도에 맞게 구현`해야 한다.
  <br />
  <br />

## 💡<strong>추상 팩토리</strong>

소스 코드 의존성은 추상적인 쪽으로 향한다.<br />
소스 코드 의존성은 <strong>제어흐름과는 반대 방향으로 역전</strong>되는데, 이러한 이유로 `의존성 역전`이라고 부르는 것이다.
